{
  "data": {
    "repository": {
      "discussion": {
        "number": 803,
        "title": "Error while initializing pysr 1.3.1",
        "body": "\r\n### Environment Details:\r\n- Operating System: Windows-10\r\n- Python Version: 3.12.7\r\n- PySR Version: 1.3.1\r\n- package installer: pip\r\n\r\n### My Problem:\r\nHello, I'm encountering an error when using the new PySR version. The initialization is failing.\r\nI am unfamiliar with Julia, but it seems there is a broken dependency:\r\n\r\n```python\r\n>Python 3.12.8 | packaged by Anaconda, Inc. | (main, Dec 11 2024, 16:48:34) [MSC v.1929 64 bit (AMD64)] on win32\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\nimport pysr\r\n[juliapkg] Found dependencies: c:\\users\\ari5\\appdata\\local\\miniconda3\\lib\\site-packages\\juliacall\\juliapkg.json\r\n[juliapkg] Found dependencies: c:\\users\\Clemrmd\\appdata\\local\\miniconda3\\lib\\site-packages\\juliapkg\\juliapkg.json\r\n[juliapkg] Found dependencies: c:\\users\\Clemrmd\\appdata\\local\\miniconda3\\lib\\site-packages\\pysr\\juliapkg.json\r\n[juliapkg] Locating Julia =1.10.0, ^1.10.3\r\n[juliapkg] Querying Julia versions from https://julialang-s3.julialang.org/bin/versions.json\r\n[juliapkg] Using Julia 1.11.2 at C:\\Users\\Clemrmd\\AppData\\Local\\miniconda3\\julia_env\\pyjuliapkg\\install\\bin\\julia.exe\r\n[juliapkg] Using Julia project at C:\\Users\\Clemrmd\\AppData\\Local\\miniconda3\\julia_env\r\n[juliapkg] Installing packages:\r\n           julia> import Pkg\r\n           julia> Pkg.Registry.update()\r\n           julia> Pkg.add([Pkg.PackageSpec(name=\"PythonCall\", uuid=\"6099a3de-0909-46bc-b1f4-468b9a2dfc0d\"), Pkg.PackageSpec(name=\"SymbolicRegression\", uuid=\"8254be44-1295-4e6a-a16d-46603ac705cb\"), Pkg.PackageSpec(name=\"Serialization\", uuid=\"9e88b42a-f829-5b0c-bbe9-9e923198166b\")])\r\n           julia> Pkg.resolve()\r\n           julia> Pkg.precompile()\r\n┌ Warning: could not download https://pkg.julialang.org/registries\r\n│   exception = RequestError: schannel: CertGetCertificateChain trust error CERT_TRUST_IS_UNTRUSTED_ROOT while requesting https://pkg.julialang.org/registries\r\n└ @ Pkg.Registry C:\\Users\\Clemrmd\\AppData\\Local\\miniconda3\\julia_env\\pyjuliapkg\\install\\share\\julia\\stdlib\\v1.11\\Pkg\\src\\Registry\\Registry.jl:77\r\n    Updating registry at `C:\\Users\\Clemrmd\\.julia\\registries\\General.toml`\r\n┌ Warning: could not download https://pkg.julialang.org/registries\r\n│   exception = RequestError: schannel: CertGetCertificateChain trust error CERT_TRUST_IS_UNTRUSTED_ROOT while requesting https://pkg.julialang.org/registries\r\n└ @ Pkg.Registry C:\\Users\\Clemrmd\\AppData\\Local\\miniconda3\\julia_env\\pyjuliapkg\\install\\share\\julia\\stdlib\\v1.11\\Pkg\\src\\Registry\\Registry.jl:77\r\n    Updating registry at `C:\\Users\\Clemrmd\\.julia\\registries\\General.toml`\r\n   Resolving package versions...\r\n**ERROR: Unsatisfiable requirements detected for package SymbolicRegression [8254be44]:\r\n SymbolicRegression [8254be44] log:\r\n ├─possible versions are: 0.1.0 - 0.24.5 or uninstalled\r\n └─restricted to versions 1.5.1 by project [f9486424] — no versions left\r\n   └─project [f9486424] log:\r\n     ├─possible versions are: 0.0.0 or uninstalled\r\n     └─project [f9486424] is fixed to version 0.0.0**\r\nStacktrace:\r\n  [1] check_constraints(graph::Pkg.Resolve.Graph)\r\n    @ Pkg.Resolve C:\\Users\\Clemrmd\\AppData\\Local\\miniconda3\\julia_env\\pyjuliapkg\\install\\share\\julia\\stdlib\\v1.11\\Pkg\\src\\Resolve\\graphtype.jl:998\r\n  [2] Pkg.Resolve.Graph(compat::Dict{Base.UUID, Dict{VersionNumber, Dict{Base.UUID, Pkg.Versions.VersionSpec}}}, compat_weak::Dict{Base.UUID, Dict{VersionNumber, Set{Base.UUID}}}, uuid_to_name::Dict{Base.UUID, String}, reqs::Dict{Base.UUID, Pkg.Versions.VersionSpec}, fixed::Dict{Base.UUID, Pkg.Resolve.Fixed}, verbose::Bool, julia_version::VersionNumber)\r\n    @ Pkg.Resolve C:\\Users\\Clemrmd\\AppData\\Local\\miniconda3\\julia_env\\pyjuliapkg\\install\\share\\julia\\stdlib\\v1.11\\Pkg\\src\\Resolve\\graphtype.jl:345\r\n  [3] deps_graph(env::Pkg.Types.EnvCache, registries::Vector{Pkg.Registry.RegistryInstance}, uuid_to_name::Dict{Base.UUID, String}, reqs::Dict{Base.UUID, Pkg.Versions.VersionSpec}, fixed::Dict{Base.UUID, Pkg.Resolve.Fixed}, julia_version::VersionNumber, installed_only::Bool)\r\n    @ Pkg.Operations C:\\Users\\Clemrmd\\AppData\\Local\\miniconda3\\julia_env\\pyjuliapkg\\install\\share\\julia\\stdlib\\v1.11\\Pkg\\src\\Operations.jl:609\r\n  [4] resolve_versions!(env::Pkg.Types.EnvCache, registries::Vector{Pkg.Registry.RegistryInstance}, pkgs::Vector{Pkg.Types.PackageSpec}, julia_version::VersionNumber, installed_only::Bool)\r\n    @ Pkg.Operations C:\\Users\\Clemrmd\\AppData\\Local\\miniconda3\\julia_env\\pyjuliapkg\\install\\share\\julia\\stdlib\\v1.11\\Pkg\\src\\Operations.jl:429\r\n  [5] targeted_resolve(env::Pkg.Types.EnvCache, registries::Vector{Pkg.Registry.RegistryInstance}, pkgs::Vector{Pkg.Types.PackageSpec}, preserve::Pkg.Types.PreserveLevel, julia_version::VersionNumber)\r\n    @ Pkg.Operations C:\\Users\\Clemrmd\\AppData\\Local\\miniconda3\\julia_env\\pyjuliapkg\\install\\share\\julia\\stdlib\\v1.11\\Pkg\\src\\Operations.jl:1391\r\n  [6] tiered_resolve(env::Pkg.Types.EnvCache, registries::Vector{Pkg.Registry.RegistryInstance}, pkgs::Vector{Pkg.Types.PackageSpec}, julia_version::VersionNumber, try_all_installed::Bool)\r\n    @ Pkg.Operations C:\\Users\\Clemrmd\\AppData\\Local\\miniconda3\\julia_env\\pyjuliapkg\\install\\share\\julia\\stdlib\\v1.11\\Pkg\\src\\Operations.jl:1380\r\n  [7] _resolve(io::IOContext{IO}, env::Pkg.Types.EnvCache, registries::Vector{Pkg.Registry.RegistryInstance}, pkgs::Vector{Pkg.Types.PackageSpec}, preserve::Pkg.Types.PreserveLevel, julia_version::VersionNumber)\r\n    @ Pkg.Operations C:\\Users\\Clemrmd\\AppData\\Local\\miniconda3\\julia_env\\pyjuliapkg\\install\\share\\julia\\stdlib\\v1.11\\Pkg\\src\\Operations.jl:1401\r\n  [8] add(ctx::Pkg.Types.Context, pkgs::Vector{Pkg.Types.PackageSpec}, new_git::Set{Base.UUID}; allow_autoprecomp::Bool, preserve::Pkg.Types.PreserveLevel, platform::Base.BinaryPlatforms.Platform, target::Symbol)\r\n    @ Pkg.Operations C:\\Users\\Clemrmd\\AppData\\Local\\miniconda3\\julia_env\\pyjuliapkg\\install\\share\\julia\\stdlib\\v1.11\\Pkg\\src\\Operations.jl:1435\r\n  [9] add\r\n    @ C:\\Users\\Clemrmd\\AppData\\Local\\miniconda3\\julia_env\\pyjuliapkg\\install\\share\\julia\\stdlib\\v1.11\\Pkg\\src\\Operations.jl:1407 [inlined]\r\n [10] add(ctx::Pkg.Types.Context, pkgs::Vector{Pkg.Types.PackageSpec}; preserve::Pkg.Types.PreserveLevel, platform::Base.BinaryPlatforms.Platform, target::Symbol, allow_autoprecomp::Bool, kwargs::@Kwargs{io::IOContext{IO}})\r\n    @ Pkg.API C:\\Users\\Clemrmd\\AppData\\Local\\miniconda3\\julia_env\\pyjuliapkg\\install\\share\\julia\\stdlib\\v1.11\\Pkg\\src\\API.jl:306\r\n [11] add(pkgs::Vector{Pkg.Types.PackageSpec}; io::IOContext{IO}, kwargs::@Kwargs{})\r\n    @ Pkg.API C:\\Users\\Clemrmd\\AppData\\Local\\miniconda3\\julia_env\\pyjuliapkg\\install\\share\\julia\\stdlib\\v1.11\\Pkg\\src\\API.jl:159\r\n [12] add(pkgs::Vector{Pkg.Types.PackageSpec})\r\n    @ Pkg.API C:\\Users\\Clemrmd\\AppData\\Local\\miniconda3\\julia_env\\pyjuliapkg\\install\\share\\julia\\stdlib\\v1.11\\Pkg\\src\\API.jl:148\r\n [13] top-level scope\r\n    @ none:1\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"C:\\Users\\Clemrmd\\AppData\\Local\\miniconda3\\Lib\\site-packages\\pysr\\__init__.py\", line 11, in <module>\r\n    from .julia_import import jl, SymbolicRegression  # isort:skip\r\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"C:\\Users\\Clemrmd\\AppData\\Local\\miniconda3\\Lib\\site-packages\\pysr\\julia_import.py\", line 52, in <module>\r\n    try_with_registry_fallback(_import_juliacall)\r\n  File \"C:\\Users\\Clemrmd\\AppData\\Local\\miniconda3\\Lib\\site-packages\\pysr\\julia_registry_helpers.py\", line 27, in try_with_registry_fallback\r\n    raise initial_error\r\n  File \"C:\\Users\\Clemrmd\\AppData\\Local\\miniconda3\\Lib\\site-packages\\pysr\\julia_registry_helpers.py\", line 21, in try_with_registry_fallback\r\n    return f(*args, **kwargs)\r\n           ^^^^^^^^^^^^^^^^^^\r\n  File \"C:\\Users\\Clemrmd\\AppData\\Local\\miniconda3\\Lib\\site-packages\\pysr\\julia_import.py\", line 49, in _import_juliacall\r\n    import juliacall  # type: ignore\r\n    ^^^^^^^^^^^^^^^^\r\n  File \"C:\\Users\\Clemrmd\\AppData\\Local\\miniconda3\\Lib\\site-packages\\juliacall\\__init__.py\", line 287, in <module>\r\n    init()\r\n  File \"C:\\Users\\Clemrmd\\AppData\\Local\\miniconda3\\Lib\\site-packages\\juliacall\\__init__.py\", line 159, in init\r\n    CONFIG['exepath'] = exepath = juliapkg.executable()\r\n                                  ^^^^^^^^^^^^^^^^^^^^^\r\n  File \"C:\\Users\\Clemrmd\\AppData\\Local\\miniconda3\\Lib\\site-packages\\juliapkg\\deps.py\", line 381, in executable\r\n    resolve()\r\n  File \"C:\\Users\\Clemrmd\\AppData\\Local\\miniconda3\\Lib\\site-packages\\juliapkg\\deps.py\", line 350, in resolve\r\n    run(\r\n  File \"C:\\Users\\Clemrmd\\AppData\\Local\\miniconda3\\Lib\\subprocess.py\", line 571, in run\r\n    raise CalledProcessError(retcode, process.args,\r\nsubprocess.CalledProcessError: Command '['C:\\\\Users\\\\Clemrmd\\\\AppData\\\\Local\\\\miniconda3\\\\julia_env\\\\pyjuliapkg\\\\install\\\\bin\\\\julia.exe', '--project=C:\\\\Users\\\\Clemrmd\\\\AppData\\\\Local\\\\miniconda3\\\\julia_env', '--startup-file=no', '-e', 'import Pkg; Pkg.Registry.update(); Pkg.add([Pkg.PackageSpec(name=\"PythonCall\", uuid=\"6099a3de-0909-46bc-b1f4-468b9a2dfc0d\"), Pkg.PackageSpec(name=\"SymbolicRegression\", uuid=\"8254be44-1295-4e6a-a16d-46603ac705cb\"), Pkg.PackageSpec(name=\"Serialization\", uuid=\"9e88b42a-f829-5b0c-bbe9-9e923198166b\")]); Pkg.resolve(); Pkg.precompile()']' returned non-zero exit status 1.\r\n```",
        "comments": {
          "nodes": [
            {
              "author": {
                "login": "MilesCranmer"
              },
              "body": "Looks like there is a cert issue:\r\n\r\n```\r\n>│   exception = RequestError: schannel: CertGetCertificateChain trust error CERT_TRUST_IS_UNTRUSTED_ROOT while requesting https://pkg.julialang.org/registries\r\n```\r\n\r\nCan you download from command line normally for other stuff?  Is there any firewall in place?",
              "createdAt": "2025-01-09T16:00:37Z"
            },
            {
              "author": {
                "login": "MilesCranmer"
              },
              "body": "Can you start\r\n\r\n```\r\nC:\\\\Users\\\\Clemrmd\\\\AppData\\\\Local\\\\miniconda3\\\\julia_env\\\\pyjuliapkg\\\\install\\\\bin\\\\julia.exe\r\n```\r\n\r\n(avoiding the double backslash)\r\n\r\nAnd then run `using Pkg; Pkg.update()`?",
              "createdAt": "2025-01-09T18:27:25Z"
            }
          ],
          "pageInfo": {
            "hasNextPage": false,
            "endCursor": "Y3Vyc29yOnYyOpK5MjAyNS0wMS0wOVQxODoyNzoyNSswMDowMM4As-ZI"
          }
        }
      }
    }
  }
}